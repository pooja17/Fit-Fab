// BodyEngine.js
(function($){
Type.registerNamespace('BodyEngine.View.Debug');BodyEngine.View.Debug.BEUIDebug=function(inProfile){this.$0=inProfile;var $0=document.getElementById('debugframe');var $1=$0.contentWindow.document;BodyEngine.View.Debug.BEUIDebug.labelUserName=$1.getElementById('lblUserName');BodyEngine.View.Debug.BEUIDebug.labelAgeYears=$1.getElementById('lblAgeYears');BodyEngine.View.Debug.BEUIDebug.labelWeight=$1.getElementById('lblWeight');BodyEngine.View.Debug.BEUIDebug.labelGender=$1.getElementById('lblGender');BodyEngine.View.Debug.BEUIDebug.labelHeight=$1.getElementById('lblHeightCm');BodyEngine.View.Debug.BEUIDebug.labelBmi=$1.getElementById('lblBmi');BodyEngine.View.Debug.BEUIDebug.labelRmr=$1.getElementById('lblRmr');BodyEngine.View.Debug.BEUIDebug.buttonLoadUser1=$1.getElementById('btnLoadUser1');BodyEngine.View.Debug.BEUIDebug.buttonLoadUser1.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.clickEvent,function($p1_0){
BodyEngine.View.Debug.BEUIDebug.$8(BodyEngine.View.Debug.BEUIDebug.buttonLoadUser1);},false);BodyEngine.View.Debug.BEUIDebug.buttonLoadUser2=$1.getElementById('btnLoadUser2');BodyEngine.View.Debug.BEUIDebug.buttonLoadUser2.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.clickEvent,function($p1_0){
BodyEngine.View.Debug.BEUIDebug.$8(BodyEngine.View.Debug.BEUIDebug.buttonLoadUser2);},false);BodyEngine.View.Debug.BEUIDebug.inputUserName=$1.getElementById('inpUserName');BodyEngine.View.Debug.BEUIDebug.inputUserName.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.changeEvent,function($p1_0){
BodyEngine.View.Debug.BEUIDebug.$9(BodyEngine.View.Debug.BEUIDebug.inputUserName);},false);BodyEngine.View.Debug.BEUIDebug.radioMale=$1.getElementById('radioGenderM');BodyEngine.View.Debug.BEUIDebug.radioMale.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.checkEvent,function($p1_0){
BodyEngine.View.Debug.BEUIDebug.$A(BodyEngine.View.Debug.BEUIDebug.radioMale);},false);BodyEngine.View.Debug.BEUIDebug.radioFemale=$1.getElementById('radioGenderF');BodyEngine.View.Debug.BEUIDebug.radioFemale.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.checkEvent,function($p1_0){
BodyEngine.View.Debug.BEUIDebug.$A(BodyEngine.View.Debug.BEUIDebug.radioFemale);},false);BodyEngine.View.Debug.BEUIDebug.add_inputChange(ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0===BodyEngine.View.Debug.BEUIDebug.inputUserName){this.$0.set_userName(BodyEngine.View.Debug.BEUIDebug.inputUserName.value);}}));BodyEngine.View.Debug.BEUIDebug.add_buttonClick(ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0===BodyEngine.View.Debug.BEUIDebug.buttonLoadUser1){this.$0.set_userName('User A');this.$0.set_gender(0);this.$0.set_ageYears(18);this.$0.set_heightCm(203);this.$0.set_currentTotalLbs(205);}else if($p1_0===BodyEngine.View.Debug.BEUIDebug.buttonLoadUser2){this.$0.set_userName('User B');this.$0.set_gender(1);this.$0.set_ageYears(32);this.$0.set_heightCm(150);this.$0.set_currentTotalLbs(120);}}));BodyEngine.View.Debug.BEUIDebug.add_radioButtonCheck(ss.Delegate.create(this,function($p1_0,$p1_1){
if($p1_0===BodyEngine.View.Debug.BEUIDebug.radioMale){this.$0.set_gender(0);}else if($p1_0===BodyEngine.View.Debug.BEUIDebug.radioFemale){this.$0.set_gender(1);}}));this.$0.add_propertyChanged(ss.Delegate.create(this,function($p1_0,$p1_1){
this.update(this.$0);}));this.update(this.$0);}
BodyEngine.View.Debug.BEUIDebug.add_buttonClick=function(value){BodyEngine.View.Debug.BEUIDebug.$1=ss.Delegate.combine(BodyEngine.View.Debug.BEUIDebug.$1,value);}
BodyEngine.View.Debug.BEUIDebug.remove_buttonClick=function(value){BodyEngine.View.Debug.BEUIDebug.$1=ss.Delegate.remove(BodyEngine.View.Debug.BEUIDebug.$1,value);}
BodyEngine.View.Debug.BEUIDebug.add_inputChange=function(value){BodyEngine.View.Debug.BEUIDebug.$2=ss.Delegate.combine(BodyEngine.View.Debug.BEUIDebug.$2,value);}
BodyEngine.View.Debug.BEUIDebug.remove_inputChange=function(value){BodyEngine.View.Debug.BEUIDebug.$2=ss.Delegate.remove(BodyEngine.View.Debug.BEUIDebug.$2,value);}
BodyEngine.View.Debug.BEUIDebug.add_radioButtonCheck=function(value){BodyEngine.View.Debug.BEUIDebug.$3=ss.Delegate.combine(BodyEngine.View.Debug.BEUIDebug.$3,value);}
BodyEngine.View.Debug.BEUIDebug.remove_radioButtonCheck=function(value){BodyEngine.View.Debug.BEUIDebug.$3=ss.Delegate.remove(BodyEngine.View.Debug.BEUIDebug.$3,value);}
BodyEngine.View.Debug.BEUIDebug.add_comboChange=function(value){BodyEngine.View.Debug.BEUIDebug.$4=ss.Delegate.combine(BodyEngine.View.Debug.BEUIDebug.$4,value);}
BodyEngine.View.Debug.BEUIDebug.remove_comboChange=function(value){BodyEngine.View.Debug.BEUIDebug.$4=ss.Delegate.remove(BodyEngine.View.Debug.BEUIDebug.$4,value);}
BodyEngine.View.Debug.BEUIDebug.add_numericTextBoxChange=function(value){BodyEngine.View.Debug.BEUIDebug.$5=ss.Delegate.combine(BodyEngine.View.Debug.BEUIDebug.$5,value);}
BodyEngine.View.Debug.BEUIDebug.remove_numericTextBoxChange=function(value){BodyEngine.View.Debug.BEUIDebug.$5=ss.Delegate.remove(BodyEngine.View.Debug.BEUIDebug.$5,value);}
BodyEngine.View.Debug.BEUIDebug.$6=function($p0){if(BodyEngine.View.Debug.BEUIDebug.$4!=null){BodyEngine.View.Debug.BEUIDebug.$4($p0,null);}}
BodyEngine.View.Debug.BEUIDebug.$7=function($p0){if(BodyEngine.View.Debug.BEUIDebug.$5!=null){BodyEngine.View.Debug.BEUIDebug.$5($p0,null);}}
BodyEngine.View.Debug.BEUIDebug.$8=function($p0){if(BodyEngine.View.Debug.BEUIDebug.$1!=null){BodyEngine.View.Debug.BEUIDebug.$1($p0,null);}}
BodyEngine.View.Debug.BEUIDebug.$9=function($p0){if(BodyEngine.View.Debug.BEUIDebug.$2!=null){BodyEngine.View.Debug.BEUIDebug.$2($p0,null);}}
BodyEngine.View.Debug.BEUIDebug.$A=function($p0){if(BodyEngine.View.Debug.BEUIDebug.$3!=null){BodyEngine.View.Debug.BEUIDebug.$3($p0,null);}}
BodyEngine.View.Debug.BEUIDebug.prototype={$0:null,update:function(profile){BodyEngine.View.Debug.BEUIDebug.labelUserName.textContent=profile.get_userName();BodyEngine.View.Debug.BEUIDebug.inputUserName.value=profile.get_userName();if(!profile.get_gender()){BodyEngine.View.Debug.BEUIDebug.radioMale.checked=true;}else{BodyEngine.View.Debug.BEUIDebug.radioFemale.checked=true;}BodyEngine.View.Debug.BEUIDebug.labelAgeYears.textContent=profile.get_ageYears().toString();BodyEngine.View.Debug.BEUIDebug.labelWeight.textContent=profile.get_currentTotalLbs().toString();BodyEngine.View.Debug.BEUIDebug.labelGender.textContent=BodyEngine.Model.Fitness.FitnessData.genderToString(profile.get_gender());BodyEngine.View.Debug.BEUIDebug.labelHeight.textContent=profile.get_heightCm().toString();BodyEngine.View.Debug.BEUIDebug.labelBmi.textContent=profile.get_bmiCurrent().toFixed(3);BodyEngine.View.Debug.BEUIDebug.labelRmr.textContent=profile.get_rmrCurrent().toFixed(3);}}
Type.registerNamespace('BodyEngine.View.Controls');BodyEngine.View.Controls.Visibility=function(){};BodyEngine.View.Controls.Visibility.prototype = {visible:0,collapsed:1}
BodyEngine.View.Controls.Visibility.registerEnum('BodyEngine.View.Controls.Visibility',false);BodyEngine.View.Controls.HTMLEventTypes=function(){}
BodyEngine.View.Controls.BEElement=function(id){this._id='';this.$0=0;this._id=id;}
BodyEngine.View.Controls.BEElement.prototype={get_visibility:function(){return this.$0;},set_visibility:function(value){if(this.$0!==value){this.$0=value;this.updateVisibility();}return value;}}
BodyEngine.View.Controls.DropDownList=function(id,length,jsonValue,changeEvent){BodyEngine.View.Controls.DropDownList.initializeBase(this,[id]);eval(String.format("$('#{0}').kendoDropDownList({dataSource: {2}, height: {1}, {3}: {4}});",id,length,jsonValue,BodyEngine.View.Controls.HTMLEventTypes.changeEvent,changeEvent));}
BodyEngine.View.Controls.DropDownList.prototype={get_value:function(){return eval(String.format("$('#{0}').data('kendoDropDownList').value() * 1;",this._id));},set_value:function(value){eval(String.format("$('#{0}').data('kendoDropDownList').value({1});",this._id,value));return value;},updateVisibility:function(){if(!this.get_visibility()){alert('Changing to visible '+this._id);}else if(this.get_visibility()===1){alert('Changing to collapsed '+this._id);}}}
BodyEngine.View.Controls.NumericTextBox=function(id,min,max,step,format,changeEvent){BodyEngine.View.Controls.NumericTextBox.initializeBase(this,[id]);eval(String.format("$('#{0}').kendoNumericTextBox({value: {1}, min: {1}, max: {2}, step: {3}, format: \"{4}\", {5}: {6}});",id,min,max,step,format,BodyEngine.View.Controls.HTMLEventTypes.changeEvent,changeEvent));}
BodyEngine.View.Controls.NumericTextBox.prototype={get_value:function(){return eval(String.format("$('#{0}').data('kendoNumericTextBox').value() * 1;",this._id));},set_value:function(value){eval(String.format("$('#{0}').data('kendoNumericTextBox').value({1});",this._id,value));return value;},updateVisibility:function(){if(!this.get_visibility()){alert('Changing to visible: '+String.format("$('#{0}').show();",this._id));eval(String.format("$('#{0}').show();",this._id));}else if(this.get_visibility()===1){alert('Changing to collapsed: '+String.format("$('#{0}').hide();",this._id));eval(String.format("$('#{0}').hide();",this._id));}}}
BodyEngine.View.Controls.TabStrip=function(id){BodyEngine.View.Controls.TabStrip.initializeBase(this,[id]);var $0="open: {effects: 'fadeIn'}";var $1=String.format('animation: {{0}}',$0);var $2=String.format("$('#{0}').kendoTabStrip({{1}}).data('kendoTabStrip');",id,$1);eval(String.format('var tg = {0};',$2));var $3=String.format("{0}.select({0}.tabGroup.children('li:first'));",'tg');eval($3);}
BodyEngine.View.Controls.TabStrip.prototype={updateVisibility:function(){if(!this.get_visibility()){alert('Changing to visible '+this._id);}else if(this.get_visibility()===1){alert('Changing to collapsed '+this._id);}}}
Type.registerNamespace('BodyEngine.View');BodyEngine.View.BEUI=function(){var $0=new BodyEngine.View.Controls.TabStrip('tabStrip');BodyEngine.View.BEUI.radioMaleLb=document.getElementById('rGenderMLb');BodyEngine.View.BEUI.radioMaleLb.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.checkEvent,function($p1_0){
BodyEngine.View.BEUI.$9(BodyEngine.View.BEUI.radioMaleLb);},false);BodyEngine.View.BEUI.radioMaleKg=document.getElementById('rGenderMKg');BodyEngine.View.BEUI.radioMaleKg.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.checkEvent,function($p1_0){
BodyEngine.View.BEUI.$9(BodyEngine.View.BEUI.radioMaleKg);},false);BodyEngine.View.BEUI.radioFemaleLb=document.getElementById('rGenderFLb');BodyEngine.View.BEUI.radioFemaleLb.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.checkEvent,function($p1_0){
BodyEngine.View.BEUI.$9(BodyEngine.View.BEUI.radioFemaleLb);},false);BodyEngine.View.BEUI.radioFemaleKg=document.getElementById('rGenderFKg');BodyEngine.View.BEUI.radioFemaleKg.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.checkEvent,function($p1_0){
BodyEngine.View.BEUI.$9(BodyEngine.View.BEUI.radioFemaleKg);},false);BodyEngine.View.BEUI.nAgeYearsLb=new BodyEngine.View.Controls.NumericTextBox('nTAgeYearsLb',16,99,1,'# years old',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nAgeYearsLb);});BodyEngine.View.BEUI.nAgeYearsKg=new BodyEngine.View.Controls.NumericTextBox('nTAgeYearsKg',16,99,1,'# years old',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nAgeYearsKg);});BodyEngine.View.BEUI.nHeightFeet=new BodyEngine.View.Controls.NumericTextBox('nHFeet',4,6,1,'# ft',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nHeightFeet);});BodyEngine.View.BEUI.nHeightInches=new BodyEngine.View.Controls.NumericTextBox('nHInches',0,11,1,'# in',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nHeightInches);});BodyEngine.View.BEUI.nHeightM=new BodyEngine.View.Controls.NumericTextBox('nHM',1,2,1,'# m',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nHeightM);});BodyEngine.View.BEUI.nHeightCm=new BodyEngine.View.Controls.NumericTextBox('nHCm',0,99,1,'# cm',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nHeightCm);});BodyEngine.View.BEUI.nTotalWeightLb=new BodyEngine.View.Controls.NumericTextBox('nTWeightLb',parseInt(10),parseInt(500),1,'# lb',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nTotalWeightLb);});BodyEngine.View.BEUI.nTotalWeightKg=new BodyEngine.View.Controls.NumericTextBox('nTWeightKg',parseInt(BodyEngine.Model.Fitness.FitnessData.kG_TOTAL_MIN_ALLOWED),parseInt(BodyEngine.Model.Fitness.FitnessData.kG_TOTAL_MAX_ALLOWED),1,'# kg',function(){
BodyEngine.View.BEUI.$6(BodyEngine.View.BEUI.nTotalWeightKg);});BodyEngine.View.BEUI.buttonCalculateRmrLb=document.getElementById('calcButtonLb');BodyEngine.View.BEUI.buttonCalculateRmrLb.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.clickEvent,function($p1_0){
BodyEngine.View.BEUI.$7(BodyEngine.View.BEUI.buttonCalculateRmrLb);},false);BodyEngine.View.BEUI.buttonCalculateRmrKg=document.getElementById('calcButtonKg');BodyEngine.View.BEUI.buttonCalculateRmrKg.addEventListener(BodyEngine.View.Controls.HTMLEventTypes.clickEvent,function($p1_0){
BodyEngine.View.BEUI.$7(BodyEngine.View.BEUI.buttonCalculateRmrKg);},false);BodyEngine.View.BEUI.lblBmrLb=document.getElementById('lblBmrLb');BodyEngine.View.BEUI.lblBmrKg=document.getElementById('lblBmrKg');BodyEngine.View.BEUI.lblRmrLb=document.getElementById('lblRmrLb');BodyEngine.View.BEUI.lblRmrKg=document.getElementById('lblRmrKg');}
BodyEngine.View.BEUI.add_buttonClick=function(value){BodyEngine.View.BEUI.$0=ss.Delegate.combine(BodyEngine.View.BEUI.$0,value);}
BodyEngine.View.BEUI.remove_buttonClick=function(value){BodyEngine.View.BEUI.$0=ss.Delegate.remove(BodyEngine.View.BEUI.$0,value);}
BodyEngine.View.BEUI.add_inputChange=function(value){BodyEngine.View.BEUI.$1=ss.Delegate.combine(BodyEngine.View.BEUI.$1,value);}
BodyEngine.View.BEUI.remove_inputChange=function(value){BodyEngine.View.BEUI.$1=ss.Delegate.remove(BodyEngine.View.BEUI.$1,value);}
BodyEngine.View.BEUI.add_radioButtonCheck=function(value){BodyEngine.View.BEUI.$2=ss.Delegate.combine(BodyEngine.View.BEUI.$2,value);}
BodyEngine.View.BEUI.remove_radioButtonCheck=function(value){BodyEngine.View.BEUI.$2=ss.Delegate.remove(BodyEngine.View.BEUI.$2,value);}
BodyEngine.View.BEUI.add_comboChange=function(value){BodyEngine.View.BEUI.$3=ss.Delegate.combine(BodyEngine.View.BEUI.$3,value);}
BodyEngine.View.BEUI.remove_comboChange=function(value){BodyEngine.View.BEUI.$3=ss.Delegate.remove(BodyEngine.View.BEUI.$3,value);}
BodyEngine.View.BEUI.add_numericTextBoxChange=function(value){BodyEngine.View.BEUI.$4=ss.Delegate.combine(BodyEngine.View.BEUI.$4,value);}
BodyEngine.View.BEUI.remove_numericTextBoxChange=function(value){BodyEngine.View.BEUI.$4=ss.Delegate.remove(BodyEngine.View.BEUI.$4,value);}
BodyEngine.View.BEUI.$5=function($p0){if(BodyEngine.View.BEUI.$3!=null){BodyEngine.View.BEUI.$3($p0,null);}}
BodyEngine.View.BEUI.$6=function($p0){if(BodyEngine.View.BEUI.$4!=null){BodyEngine.View.BEUI.$4($p0,null);}}
BodyEngine.View.BEUI.$7=function($p0){if(BodyEngine.View.BEUI.$0!=null){BodyEngine.View.BEUI.$0($p0,null);}}
BodyEngine.View.BEUI.$8=function($p0){if(BodyEngine.View.BEUI.$1!=null){BodyEngine.View.BEUI.$1($p0,null);}}
BodyEngine.View.BEUI.$9=function($p0){if(BodyEngine.View.BEUI.$2!=null){BodyEngine.View.BEUI.$2($p0,null);}}
Type.registerNamespace('BodyEngine.Controller');window.$0=function($p0){$1($p0);$2($p0);$3($p0);$4($p0);$5($p0,false);}
window.$1=function($p0){if(!$p0.get_gender()){BodyEngine.View.BEUI.radioMaleLb.checked=true;BodyEngine.View.BEUI.radioMaleKg.checked=true;}else{BodyEngine.View.BEUI.radioFemaleLb.checked=true;BodyEngine.View.BEUI.radioFemaleKg.checked=true;}}
window.$2=function($p0){BodyEngine.View.BEUI.nAgeYearsLb.set_value($p0.get_ageYears().toString());BodyEngine.View.BEUI.nAgeYearsKg.set_value($p0.get_ageYears().toString());}
window.$3=function($p0){BodyEngine.View.BEUI.nHeightFeet.set_value(BodyEngine.Controller.BEMath.cmToFeetOnly($p0.get_heightCm()));BodyEngine.View.BEUI.nHeightInches.set_value(BodyEngine.Controller.BEMath.cmToInchesOnly($p0.get_heightCm()));BodyEngine.View.BEUI.nHeightM.set_value(BodyEngine.Controller.BEMath.cmTotalToM($p0.get_heightCm()));BodyEngine.View.BEUI.nHeightCm.set_value(BodyEngine.Controller.BEMath.cmTotalToCm($p0.get_heightCm()));}
window.$4=function($p0){BodyEngine.View.BEUI.nTotalWeightLb.set_value($p0.get_currentTotalLbs());BodyEngine.View.BEUI.nTotalWeightKg.set_value(BodyEngine.Controller.BEMath.lbsToKg($p0.get_currentTotalLbs()));}
window.$5=function($p0,$p1){BodyEngine.View.BEUI.lblBmrLb.textContent=$6($p0.get_rmrCurrent()).toFixed(0)+' Cals';BodyEngine.View.BEUI.lblRmrLb.textContent=$p0.get_rmrCurrent().toFixed(0)+' Cals';BodyEngine.View.BEUI.lblBmrKg.textContent=$6($p0.get_rmrCurrent()).toFixed(0)+' Cals';BodyEngine.View.BEUI.lblRmrKg.textContent=$p0.get_rmrCurrent().toFixed(0)+' Cals';if($p1){var $0=500;var $1=2;eval("$('#"+BodyEngine.View.BEUI.lblBmrLb.id+"').effect('pulsate', { times:"+$1+' }, '+$0+');');eval("$('#"+BodyEngine.View.BEUI.lblRmrLb.id+"').effect('pulsate', { times:"+$1+' }, '+$0+');');eval("$('#"+BodyEngine.View.BEUI.lblBmrKg.id+"').effect('pulsate', { times:"+$1+' }, '+$0+');');eval("$('#"+BodyEngine.View.BEUI.lblRmrKg.id+"').effect('pulsate', { times:"+$1+' }, '+$0+');');}}
window.$6=function($p0){return $p0/1.15;}
BodyEngine.Controller.BEMath=function(){}
BodyEngine.Controller.BEMath.getTotalFromRatio=function(value,percent){if(percent<=0||percent>100){throw new Error('Illegal percent value (%) specfified!');}if(value===0){return 0;}return value*(100/percent);}
BodyEngine.Controller.BEMath.inchesToCm=function(inInches){return parseInt((inInches*2.54+0.5));}
BodyEngine.Controller.BEMath.cmToFeetOnly=function(cm){return parseInt((BodyEngine.Controller.BEMath.cmToInchesTotal(cm)/12));}
BodyEngine.Controller.BEMath.cmToInchesOnly=function(cm){return parseInt((BodyEngine.Controller.BEMath.cmToInchesTotal(cm)%12));}
BodyEngine.Controller.BEMath.cmToInchesTotal=function(cm){return parseInt((cm/2.54+0.5));}
BodyEngine.Controller.BEMath.cmTotalToM=function(cm){return parseInt((cm/100));}
BodyEngine.Controller.BEMath.cmTotalToCm=function(cm){return parseInt((cm-BodyEngine.Controller.BEMath.cmTotalToM(cm)*100));}
BodyEngine.Controller.BEMath.lbsToKg=function(inLbs){if(inLbs===0){return 0;}return parseInt((0.4536*inLbs+0.5));}
BodyEngine.Controller.BEMath.kgToLbs=function(inKg){if(inKg===0){return 0;}return parseInt((2.2046*inKg+0.5));}
BodyEngine.Controller.BEMath.getAgeYears=function(birthDate,todaysDate){var $0=todaysDate.getFullYear()-birthDate.getFullYear();if(todaysDate.getMonth()<birthDate.getMonth()||(todaysDate.getMonth()===birthDate.getMonth()&&todaysDate.getDay()<birthDate.getDay())){$0--;}if($0<=0){throw new Error('Invalid BirthDate '+birthDate.toString()+". BirthDate must be more than one year before today's date "+todaysDate);}return $0;}
BodyEngine.Controller.BEMath.roundToNearest=function(inVal,inInteger){inVal=inVal/inInteger;inVal=parseInt((inVal+0.5));inVal=inVal*inInteger;return inVal;}
BodyEngine.Controller.BEMath.clampDouble=function(min,myVal,max){if(myVal<min){myVal=min;}else if(myVal>max){myVal=max;}return myVal;}
BodyEngine.Controller.BEMath.clampInt=function(min,myVal,max){if(myVal<min){myVal=min;}else if(myVal>max){myVal=max;}return myVal;}
Type.registerNamespace('BodyEngine.Model.Fitness');BodyEngine.Model.Fitness.Gender=function(){};BodyEngine.Model.Fitness.Gender.prototype = {male:0,female:1}
BodyEngine.Model.Fitness.Gender.registerEnum('BodyEngine.Model.Fitness.Gender',false);BodyEngine.Model.Fitness.ActivityLevel=function(){};BodyEngine.Model.Fitness.ActivityLevel.prototype = {SEDENTARY:0,LOWACTIVE:1,ACTIVE:2,VERYACTIVE:3}
BodyEngine.Model.Fitness.ActivityLevel.registerEnum('BodyEngine.Model.Fitness.ActivityLevel',false);BodyEngine.Model.Fitness.BmiLevel=function(){};BodyEngine.Model.Fitness.BmiLevel.prototype = {underweight:0,normal:1,overweight:2,obese:3,morbidlyObese:4}
BodyEngine.Model.Fitness.BmiLevel.registerEnum('BodyEngine.Model.Fitness.BmiLevel',false);BodyEngine.Model.Fitness.FitnessData=function(){}
BodyEngine.Model.Fitness.FitnessData.genderToString=function(gender){if(!gender){return 'Male';}else{return 'Female';}}
BodyEngine.Model.Fitness.FitnessData.activityLevelToString=function(inLevel){var $0='';if(!inLevel){$0='SEDENTARY';}else if(inLevel===1){$0='LOW ACTIVE';}else if(inLevel===2){$0='ACTIVE';}else if(inLevel===3){$0='VERY ACTIVE';}return $0;}
BodyEngine.Model.Fitness.FitnessFunctions=function(){}
BodyEngine.Model.Fitness.FitnessFunctions.computeBMIMetric=function(inWeightKg,inHeightM){return inWeightKg/(inHeightM*inHeightM);}
BodyEngine.Model.Fitness.FitnessFunctions.computeWeightKgFromBmi=function(inBmi,inHeightM){return inBmi*(inHeightM*inHeightM);}
BodyEngine.Model.Fitness.FitnessFunctions.computeBMIEnglish=function(inWeightLbs,inHeightInches){return (inWeightLbs/(inHeightInches*inHeightInches))*703;}
BodyEngine.Model.Fitness.FitnessFunctions.computeLbsFromBmi=function(inBmi,inHeightInches){return (inBmi/703)*(inHeightInches*inHeightInches);}
BodyEngine.Model.Fitness.FitnessFunctions.computeRMREnglish=function(weightLb,heightInches,ageYears,gender){return BodyEngine.Model.Fitness.FitnessFunctions.computeRMRMetric(BodyEngine.Controller.BEMath.lbsToKg(weightLb),BodyEngine.Controller.BEMath.inchesToCm(heightInches),ageYears,gender);}
BodyEngine.Model.Fitness.FitnessFunctions.computeRMRMetric=function(weightKg,heightCm,ageYears,gender){if(!gender){return (66.47+(13.75*weightKg)+(5*heightCm)-(6.76*ageYears))*1.15;}else{return (655.1+(9.56*weightKg)+(1.85*heightCm)-(4.68*ageYears))*1.15;}}
BodyEngine.Model.Fitness.FitnessFunctions.computeEEREnglish=function(inWeightLbs,inHeightInches,inAgeYears,inGender,inActivityLevel){return BodyEngine.Model.Fitness.FitnessFunctions.computeEERMetric(BodyEngine.Controller.BEMath.lbsToKg(inWeightLbs),BodyEngine.Controller.BEMath.inchesToCm(inHeightInches),inAgeYears,inGender,inActivityLevel);}
BodyEngine.Model.Fitness.FitnessFunctions.computeEERMetric=function(weightKg,heightCm,ageYears,gender,activityLevel){var $0=0;var $1=BodyEngine.Model.Fitness.FitnessFunctions.computePACoefficient(ageYears,gender,activityLevel);if(!gender){$0=BodyEngine.Model.Fitness.FitnessFunctions.$1(weightKg,heightCm/100,ageYears,$1);}else if(gender===1){$0=BodyEngine.Model.Fitness.FitnessFunctions.$0(weightKg,heightCm/100,ageYears,$1);}return $0;}
BodyEngine.Model.Fitness.FitnessFunctions.$0=function($p0,$p1,$p2,$p3){var $0=0;if($p2>=19){$0=354-(6.91*$p2)+$p3*((9.36*$p0)+(726*$p1));}else if($p2>=9&&$p2<=18){$0=135.3-(30.8*$p2)+$p3*((10*$p0)+(934*$p1))+25;}return $0;}
BodyEngine.Model.Fitness.FitnessFunctions.$1=function($p0,$p1,$p2,$p3){var $0=0;if($p2>=19){$0=662-(9.53*$p2)+$p3*((15.91*$p0)+(539.6*$p1));}else if($p2>=9&&$p2<=18){$0=88.5-(61.9*$p2)+$p3*((26.7*$p0)+(903*$p1))+25;}return $0;}
BodyEngine.Model.Fitness.FitnessFunctions.computePACoefficient=function(inAgeYears,inGender,inActivityLevel){var $0=0;if(!inGender){$0=BodyEngine.Model.Fitness.FitnessFunctions.$3(inAgeYears,inActivityLevel);}else if(inGender===1){$0=BodyEngine.Model.Fitness.FitnessFunctions.$2(inAgeYears,inActivityLevel);}return $0;}
BodyEngine.Model.Fitness.FitnessFunctions.$2=function($p0,$p1){var $0=0;if($p0>=19){if(!$p1){$0=1;}else if($p1===1){$0=1.12;}else if($p1===2){$0=1.27;}else if($p1===3){$0=1.45;}}else if($p0>=9&&$p0<=18){if(!$p1){$0=1;}else if($p1===1){$0=1.16;}else if($p1===2){$0=1.31;}else if($p1===3){$0=1.56;}}return $0;}
BodyEngine.Model.Fitness.FitnessFunctions.$3=function($p0,$p1){var $0=0;if($p0>=19){if(!$p1){$0=1;}else if($p1===1){$0=1.11;}else if($p1===2){$0=1.25;}else if($p1===3){$0=1.48;}}else if($p0>=9&&$p0<=18){if(!$p1){$0=1;}else if($p1===1){$0=1.13;}else if($p1===2){$0=1.26;}else if($p1===3){$0=1.42;}}return $0;}
BodyEngine.Model.Fitness.FitnessFunctions.computeWeightKgFromEER=function(inEER,inHeightM,inAgeYears,inGender,inActivityLevel){var $0=BodyEngine.Model.Fitness.FitnessFunctions.computePACoefficient(inAgeYears,inGender,inActivityLevel);var $1=0;if(!inGender){if(inAgeYears>=19){$1=((inEER-662+(9.53*inAgeYears))/$0-(539.6*inHeightM))/15.91;}else if(inAgeYears>=9&&inAgeYears<=18){$1=((inEER-88.5+(61.9*inAgeYears)-25)/$0-(903*inHeightM))/26.7;}}else if(inGender===1){if(inAgeYears>=19){$1=((inEER-354+(6.91*inAgeYears))/$0-(726*inHeightM))/9.36;}else if(inAgeYears>=9&&inAgeYears<=18){$1=((inEER-135.3+(30.8*inAgeYears)-25)/$0-(934*inHeightM))/10;}}return $1;}
BodyEngine.Model.Fitness.FitnessFunctions.$4=function($p0,$p1){return (($p1-$p0)/$p1)*100;}
BodyEngine.Model.Fitness.FitnessFunctions.computeBmiLevel=function(bmi){if(bmi<18.5){return 0;}if(bmi<25){return 1;}if(bmi<30){return 2;}if(bmi<40){return 3;}return 4;}
Type.registerNamespace('BodyEngine.Model.Profiles');BodyEngine.Model.Profiles.IUserProfile=function(){};BodyEngine.Model.Profiles.IUserProfile.registerInterface('BodyEngine.Model.Profiles.IUserProfile');BodyEngine.Model.Profiles.ProfilePropertyNames=function(){}
BodyEngine.Model.Profiles.ProfileData=function(){this.$0='';this.$1='';}
BodyEngine.Model.Profiles.ProfileData.prototype={get_profileId:function(){return this.$0;},set_profileId:function(value){this.$0=value;return value;},get_userName:function(){return this.$1;},set_userName:function(value){this.$1=value;return value;},$2:0,get_gender:function(){return this.$2;},set_gender:function(value){this.$2=value;return value;},$3:20,get_ageYears:function(){return this.$3;},set_ageYears:function(value){this.$3=value;return value;},$4:0,get_heightCm:function(){return this.$4;},set_heightCm:function(value){this.$4=value;return value;},$5:0,get_activityLevel:function(){return this.$5;},set_activityLevel:function(value){this.$5=value;return value;},$6:0,get_currentTotalLbs:function(){return this.$6;},set_currentTotalLbs:function(value){this.$6=value;return value;},$7:0,get_currentFatLevel:function(){return this.$7;},set_currentFatLevel:function(value){this.$7=value;return value;},$8:0,get_currentLeanLbs:function(){return this.$8;},set_currentLeanLbs:function(value){this.$8=value;return value;},$9:0,get_currentFatLbs:function(){return this.$9;},set_currentFatLbs:function(value){this.$9=value;return value;},$A:0,get_targetTotalLbs:function(){return this.$A;},set_targetTotalLbs:function(value){this.$A=value;return value;},$B:0,get_targetFatLevel:function(){return this.$B;},set_targetFatLevel:function(value){this.$B=value;return value;},$C:0,get_targetLeanLbs:function(){return this.$C;},set_targetLeanLbs:function(value){this.$C=value;return value;},$D:0,get_targetFatLbs:function(){return this.$D;},set_targetFatLbs:function(value){this.$D=value;return value;},$E:0,get_rmrCurrent:function(){return this.$E;},set_rmrCurrent:function(value){this.$E=value;return value;},$F:0,get_eerCurrent:function(){return this.$F;},set_eerCurrent:function(value){this.$F=value;return value;},$10:0,get_eerOverfat:function(){return this.$10;},set_eerOverfat:function(value){this.$10=value;return value;},$11:0,get_eerNormal:function(){return this.$11;},set_eerNormal:function(value){this.$11=value;return value;},$12:0,get_eerAthletic:function(){return this.$12;},set_eerAthletic:function(value){this.$12=value;return value;},$13:0,get_eerEssential:function(){return this.$13;},set_eerEssential:function(value){this.$13=value;return value;},$14:0,get_eerSelected:function(){return this.$14;},set_eerSelected:function(value){this.$14=value;return value;},$15:0,get_eerObeseLbs:function(){return this.$15;},set_eerObeseLbs:function(value){this.$15=value;return value;},$16:0,get_eerOverfatLbs:function(){return this.$16;},set_eerOverfatLbs:function(value){this.$16=value;return value;},$17:0,get_eerNormalLbs:function(){return this.$17;},set_eerNormalLbs:function(value){this.$17=value;return value;},$18:0,get_eerAthleticLbs:function(){return this.$18;},set_eerAthleticLbs:function(value){this.$18=value;return value;},$19:0,get_eerEssentialLbs:function(){return this.$19;},set_eerEssentialLbs:function(value){this.$19=value;return value;},$1A:0,get_bmiCurrent:function(){return this.$1A;},set_bmiCurrent:function(value){this.$1A=value;return value;},$1B:0,get_bmiGoal:function(){return this.$1B;},set_bmiGoal:function(value){this.$1B=value;return value;},$1C:0,get_bmiUnderweightLbs:function(){return this.$1C;},set_bmiUnderweightLbs:function(value){this.$1C=value;return value;},$1D:0,get_bmiNormalLbs:function(){return this.$1D;},set_bmiNormalLbs:function(value){this.$1D=value;return value;},$1E:0,get_bmiOverweightLbs:function(){return this.$1E;},set_bmiOverweightLbs:function(value){this.$1E=value;return value;},$1F:0,get_bmiObeseLbs:function(){return this.$1F;},set_bmiObeseLbs:function(value){this.$1F=value;return value;},$20:0,get_bfMinimumSupported:function(){return this.$20;},set_bfMinimumSupported:function(value){this.$20=value;return value;},$21:0,get_bfObeseLevel:function(){return this.$21;},set_bfObeseLevel:function(value){this.$21=value;return value;},$22:0,get_bfOverfatLevel:function(){return this.$22;},set_bfOverfatLevel:function(value){this.$22=value;return value;},$23:0,get_bfNormalLevel:function(){return this.$23;},set_bfNormalLevel:function(value){this.$23=value;return value;},$24:0,get_bfAthleticLevel:function(){return this.$24;},set_bfAthleticLevel:function(value){this.$24=value;return value;},$25:0,get_bfEssentialLevel:function(){return this.$25;},set_bfEssentialLevel:function(value){this.$25=value;return value;},equals:function(other){return (this.get_profileId()===other.get_profileId()&&this.get_userName()===other.get_userName()&&this.get_gender()===other.get_gender()&&this.get_ageYears()===other.get_ageYears()&&this.get_heightCm()===other.get_heightCm()&&this.get_activityLevel()===other.get_activityLevel()&&this.get_currentTotalLbs()===other.get_currentTotalLbs()&&this.get_currentLeanLbs()===other.get_currentLeanLbs()&&this.get_currentFatLbs()===other.get_currentFatLbs()&&this.get_targetTotalLbs()===other.get_targetTotalLbs()&&this.get_targetLeanLbs()===other.get_targetLeanLbs()&&this.get_targetFatLbs()===other.get_targetFatLbs()&&this.get_currentFatLevel()===other.get_currentFatLevel()&&this.get_targetFatLevel()===other.get_targetFatLevel()&&this.get_rmrCurrent()===other.get_rmrCurrent()&&this.get_eerOverfat()===other.get_eerOverfat()&&this.get_eerNormal()===other.get_eerNormal()&&this.get_eerAthletic()===other.get_eerAthletic()&&this.get_eerEssential()===other.get_eerEssential()&&this.get_eerCurrent()===other.get_eerCurrent()&&this.get_eerSelected()===other.get_eerSelected()&&this.get_bmiUnderweightLbs()===other.get_bmiUnderweightLbs()&&this.get_bmiNormalLbs()===other.get_bmiNormalLbs()&&this.get_bmiOverweightLbs()===other.get_bmiOverweightLbs()&&this.get_bmiObeseLbs()===other.get_bmiObeseLbs()&&this.get_bfOverfatLevel()===other.get_bfOverfatLevel()&&this.get_bfNormalLevel()===other.get_bfNormalLevel()&&this.get_bfAthleticLevel()===other.get_bfAthleticLevel()&&this.get_bfEssentialLevel()===other.get_bfEssentialLevel());}}
BodyEngine.Model.Profiles.UserProfileAbstract=function(){this.$0=new BodyEngine.Model.Profiles.ProfileData();}
BodyEngine.Model.Profiles.UserProfileAbstract.prototype={get_profileId:function(){return this.$0.get_profileId();},set_profileId:function(value){if(this.$0.get_profileId()!==value){this.$0.set_profileId(value);this.$2('ProfileId');}return value;},get_userName:function(){return this.$0.get_userName();},set_userName:function(value){if(this.$0.get_userName()!==value){this.$0.set_userName(value);this.$2('UserName');}return value;},get_gender:function(){return this.$0.get_gender();},set_gender:function(value){this.$0.set_gender(value);this.$2('Gender');return value;},get_ageYears:function(){return this.$0.get_ageYears();},set_ageYears:function(value){if(this.$0.get_ageYears()!==value){this.$0.set_ageYears(value);this.$2('AgeYears');}return value;},get_heightCm:function(){return this.$0.get_heightCm();},set_heightCm:function(value){this.$0.set_heightCm(value);this.$2('HeightCm');return value;},get_activityLevel:function(){return this.$0.get_activityLevel();},set_activityLevel:function(value){this.$0.set_activityLevel(value);this.$2('ActivityLevel');return value;},get_currentTotalLbs:function(){return this.$0.get_currentTotalLbs();},set_currentTotalLbs:function(value){if(this.$0.get_currentTotalLbs()!==value){this.$0.set_currentTotalLbs(value);this.$2('CurrentTotalLbs');}return value;},get_currentLeanLbs:function(){return this.$0.get_currentLeanLbs();},set_currentLeanLbs:function(value){if(this.$0.get_currentLeanLbs()!==value){this.$0.set_currentLeanLbs(value);this.$2('CurrentLeanLbs');}return value;},get_currentFatLbs:function(){return this.$0.get_currentFatLbs();},set_currentFatLbs:function(value){if(this.$0.get_currentFatLbs()!==value){this.$0.set_currentFatLbs(value);this.$2('CurrentFatLbs');}return value;},get_currentFatLevel:function(){return this.$0.get_currentFatLevel();},set_currentFatLevel:function(value){if(this.$0.get_currentFatLevel()!==value){this.$0.set_currentFatLevel(value);this.$2('CurrentFatLevel');}return value;},get_targetTotalLbs:function(){return this.$0.get_targetTotalLbs();},set_targetTotalLbs:function(value){if(this.$0.get_targetTotalLbs()!==value){this.$0.set_targetTotalLbs(value);this.$2('TargetTotalLbs');}return value;},get_targetLeanLbs:function(){return this.$0.get_targetLeanLbs();},set_targetLeanLbs:function(value){if(this.$0.get_targetLeanLbs()!==value){this.$0.set_targetLeanLbs(value);this.$2('TargetLeanLbs');}return value;},get_targetFatLbs:function(){return this.$0.get_targetFatLbs();},set_targetFatLbs:function(value){if(this.$0.get_targetFatLbs()!==value){this.$0.set_targetFatLbs(value);this.$2('TargetFatLbs');}return value;},get_targetFatLevel:function(){return this.$0.get_targetFatLevel();},set_targetFatLevel:function(value){if(this.$0.get_targetFatLevel()!==value){this.$0.set_targetFatLevel(value);this.$2('TargetFatLevel');}return value;},get_rmrCurrent:function(){return this.$0.get_rmrCurrent();},set_rmrCurrent:function(value){if(this.$0.get_rmrCurrent()!==value){this.$0.set_rmrCurrent(value);this.$2('RMRCurrent');}return value;},get_eerOverfat:function(){return this.$0.get_eerOverfat();},set_eerOverfat:function(value){if(this.$0.get_eerOverfat()!==value){this.$0.set_eerOverfat(value);this.$2('EEROverfat');}return value;},get_eerNormal:function(){return this.$0.get_eerNormal();},set_eerNormal:function(value){if(this.$0.get_eerNormal()!==value){this.$0.set_eerNormal(value);this.$2('EERNormal');}return value;},get_eerAthletic:function(){return this.$0.get_eerAthletic();},set_eerAthletic:function(value){if(this.$0.get_eerAthletic()!==value){this.$0.set_eerAthletic(value);this.$2('EERAthletic');}return value;},get_eerEssential:function(){return this.$0.get_eerEssential();},set_eerEssential:function(value){if(this.$0.get_eerEssential()!==value){this.$0.set_eerEssential(value);this.$2('EEREssential');}return value;},get_eerCurrent:function(){return this.$0.get_eerCurrent();},set_eerCurrent:function(value){if(this.$0.get_eerCurrent()!==value){this.$0.set_eerCurrent(value);this.$2('EERCurrent');}return value;},get_eerSelected:function(){return this.$0.get_eerSelected();},set_eerSelected:function(value){if(this.$0.get_eerSelected()!==value){this.$0.set_eerSelected(value);this.$2('EERSelected');}return value;},get_eerObeseLbs:function(){return this.$0.get_eerObeseLbs();},set_eerObeseLbs:function(value){if(this.$0.get_eerObeseLbs()!==value){this.$0.set_eerObeseLbs(value);this.$2('EERObeseLbs');}return value;},get_eerOverfatLbs:function(){return this.$0.get_eerOverfatLbs();},set_eerOverfatLbs:function(value){if(this.$0.get_eerOverfatLbs()!==value){this.$0.set_eerOverfatLbs(value);this.$2('EEROverfatLbs');}return value;},get_eerNormalLbs:function(){return this.$0.get_eerNormalLbs();},set_eerNormalLbs:function(value){if(this.$0.get_eerNormalLbs()!==value){this.$0.set_eerNormalLbs(value);this.$2('EERNormalLbs');}return value;},get_eerAthleticLbs:function(){return this.$0.get_eerAthleticLbs();},set_eerAthleticLbs:function(value){if(this.$0.get_eerAthleticLbs()!==value){this.$0.set_eerAthleticLbs(value);this.$2('EERAthleticLbs');}return value;},get_eerEssentialLbs:function(){return this.$0.get_eerEssentialLbs();},set_eerEssentialLbs:function(value){if(this.$0.get_eerEssentialLbs()!==value){this.$0.set_eerEssentialLbs(value);this.$2('EEREssentialLbs');}return value;},get_bmiCurrent:function(){return this.$0.get_bmiCurrent();},set_bmiCurrent:function(value){if(this.$0.get_bmiCurrent()!==value){this.$0.set_bmiCurrent(value);this.$2('BMICurrent');}return value;},get_bmiGoal:function(){return this.$0.get_bmiGoal();},set_bmiGoal:function(value){if(this.$0.get_bmiGoal()!==value){this.$0.set_bmiGoal(value);this.$2('BMIGoal');}return value;},get_bmiUnderweightLbs:function(){return this.$0.get_bmiUnderweightLbs();},set_bmiUnderweightLbs:function(value){if(this.$0.get_bmiUnderweightLbs()!==value){this.$0.set_bmiUnderweightLbs(value);this.$2('BMIUnderweightLbs');}return value;},get_bmiNormalLbs:function(){return this.$0.get_bmiNormalLbs();},set_bmiNormalLbs:function(value){if(this.$0.get_bmiNormalLbs()!==value){this.$0.set_bmiNormalLbs(value);this.$2('BMINormalLbs');}return value;},get_bmiOverweightLbs:function(){return this.$0.get_bmiOverweightLbs();},set_bmiOverweightLbs:function(value){if(this.$0.get_bmiOverweightLbs()!==value){this.$0.set_bmiOverweightLbs(value);this.$2('BMIOverweightLbs');}return value;},get_bmiObeseLbs:function(){return this.$0.get_bmiObeseLbs();},set_bmiObeseLbs:function(value){if(this.$0.get_bmiObeseLbs()!==value){this.$0.set_bmiObeseLbs(value);this.$2('BMIObeseLbs');}return value;},get_bfOverfatLevel:function(){return this.$0.get_bfOverfatLevel();},set_bfOverfatLevel:function(value){if(this.$0.get_bfOverfatLevel()!==value){this.$0.set_bfOverfatLevel(value);this.$2('BFOverfatLevel');}return value;},get_bfObeseLevel:function(){return this.$0.get_bfObeseLevel();},set_bfObeseLevel:function(value){if(this.$0.get_bfObeseLevel()!==value){this.$0.set_bfObeseLevel(value);this.$2('BFObeseLevel');}return value;},get_bfNormalLevel:function(){return this.$0.get_bfNormalLevel();},set_bfNormalLevel:function(value){if(this.$0.get_bfNormalLevel()!==value){this.$0.set_bfNormalLevel(value);this.$2('BFNormalLevel');}return value;},get_bfAthleticLevel:function(){return this.$0.get_bfAthleticLevel();},set_bfAthleticLevel:function(value){if(this.$0.get_bfAthleticLevel()!==value){this.$0.set_bfAthleticLevel(value);this.$2('BFAthleticLevel');}return value;},get_bfEssentialLevel:function(){return this.$0.get_bfEssentialLevel();},set_bfEssentialLevel:function(value){if(this.$0.get_bfEssentialLevel()!==value){this.$0.set_bfEssentialLevel(value);this.$2('BFEssentialLevel');}return value;},get_bfMinimumSupported:function(){return this.$0.get_bfMinimumSupported();},set_bfMinimumSupported:function(value){if(this.$0.get_bfMinimumSupported()!==value){this.$0.set_bfMinimumSupported(value);this.$2('BFMinimumSupported');}return value;},get_profileData:function(){return this.$0;},add_propertyChanged:function(value){this.$1=ss.Delegate.combine(this.$1,value);},remove_propertyChanged:function(value){this.$1=ss.Delegate.remove(this.$1,value);},$1:null,$2:function($p0){if(this.$1!=null){this.$1(this,$p0);}}}
BodyEngine.Model.Profiles.UserProfileBE=function(initData,updateFatLevel){BodyEngine.Model.Profiles.UserProfileBE.initializeBase(this);this.$3=updateFatLevel;this.add_propertyChanged(ss.Delegate.create(this,this.$5));this.$4(initData);}
BodyEngine.Model.Profiles.UserProfileBE.prototype={$3:true,$4:function($p0){this.set_profileId($p0.get_profileId());this.set_userName($p0.get_userName());this.set_gender($p0.get_gender());this.set_heightCm($p0.get_heightCm());this.set_activityLevel($p0.get_activityLevel());this.set_currentTotalLbs($p0.get_currentTotalLbs());this.set_currentFatLevel($p0.get_currentFatLevel());this.set_targetTotalLbs($p0.get_targetTotalLbs());},$5:function($p0,$p1){switch($p1){case 'TargetTotalLbs':if(this.$3){this.updateTargetFatLevel();this.updateTargetFatLbs();}this.updateGoalEER();this.updateBMIGoal();break;case 'TargetFatLevel':this.updateTargetTotalLbsFromFatLevel();break;case 'TargetLeanLbs':this.updateTargetTotalLbsFromFatLevel();this.updateReferenceZones();break;case 'GoalDate':this.updateGoalEER();break;case 'CurrentTotalLbs':this.updateEers();if(this.$3){this.updateCurrentFatLevel();this.updateCurrentFatLbs();}this.updateBMICurrent();this.coerceTargetTotalLbs();break;case 'CurrentFatLevel':if(this.$3){this.updateCurrentFatLbs();this.$7();}break;case 'CurrentFatLbs':this.updateCurrentLeanLbs();break;case 'CurrentLeanLbs':if(this.$3){this.updateTargetLeanLbs();}break;case 'Gender':this.updateReferenceZones();this.updateEers();this.$6();this.coerceTargetTotalLbs();break;case 'BirthDate':this.updateAgeYears();break;case 'AgeYears':case 'ActivityLevel':this.updateEers();this.coerceTargetTotalLbs();break;case 'HeightCm':this.updateBMIWeightLevels();this.updateEers();this.coerceCurrentTotalLbs();this.coerceTargetTotalLbs();this.updateBMICurrent();this.updateBMIGoal();break;default:break;}},$6:function(){this.set_currentFatLevel(this.get_currentFatLevel());},coerceCurrentTotalLbs:function(){this.set_currentTotalLbs(this.get_currentTotalLbs());},coerceTargetTotalLbs:function(){this.set_targetTotalLbs(this.get_targetTotalLbs());},$7:function(){this.set_targetFatLevel(this.get_targetFatLevel());},updateAgeYears:function(){},updateBMICurrent:function(){this.set_bmiCurrent(BodyEngine.Model.Fitness.FitnessFunctions.computeBMIEnglish(this.get_currentTotalLbs(),parseInt(BodyEngine.Controller.BEMath.cmToInchesTotal(this.get_heightCm()))));},updateBMIGoal:function(){this.set_bmiGoal(BodyEngine.Model.Fitness.FitnessFunctions.computeBMIEnglish(this.get_targetTotalLbs(),parseInt(BodyEngine.Controller.BEMath.cmToInchesTotal(this.get_heightCm()))));},updateBMIWeightLevels:function(){var $0=parseInt(BodyEngine.Controller.BEMath.cmToInchesTotal(this.get_heightCm()));this.set_bmiObeseLbs(BodyEngine.Model.Fitness.FitnessFunctions.computeLbsFromBmi(40,$0));this.set_bmiOverweightLbs(BodyEngine.Model.Fitness.FitnessFunctions.computeLbsFromBmi(30,$0));this.set_bmiNormalLbs(BodyEngine.Model.Fitness.FitnessFunctions.computeLbsFromBmi(25,$0));this.set_bmiUnderweightLbs(BodyEngine.Model.Fitness.FitnessFunctions.computeLbsFromBmi(18.5,$0));},updateCurrentFatLevel:function(){this.set_currentFatLevel(BodyEngine.Model.Fitness.FitnessFunctions.$4(this.get_currentLeanLbs(),this.get_currentTotalLbs()));},updateCurrentLeanLbs:function(){this.set_currentLeanLbs(this.get_currentTotalLbs()-this.get_currentFatLbs());},updateCurrentFatLbs:function(){this.set_currentFatLbs(this.get_currentTotalLbs()*(this.get_currentFatLevel()/100));},updateTargetLeanLbs:function(){this.set_targetLeanLbs(this.get_currentLeanLbs());},updateTargetFatLevel:function(){this.set_targetFatLevel(BodyEngine.Model.Fitness.FitnessFunctions.$4(this.get_targetLeanLbs(),this.get_targetTotalLbs()));},updateTargetFatLbs:function(){this.set_targetFatLbs(this.get_targetTotalLbs()-this.get_targetLeanLbs());},updateTargetTotalLbsFromFatLevel:function(){this.set_targetTotalLbs(BodyEngine.Controller.BEMath.getTotalFromRatio(this.get_targetLeanLbs(),100-this.get_targetFatLevel()));},updateEers:function(){this.set_rmrCurrent(BodyEngine.Model.Fitness.FitnessFunctions.computeRMRMetric(BodyEngine.Controller.BEMath.lbsToKg(this.get_currentTotalLbs()),this.get_heightCm(),this.get_ageYears(),this.get_gender()));this.set_eerCurrent(this.$9(this.get_currentTotalLbs()));this.updateGoalEER();},updateReferenceZones:function(){if(!this.get_gender()){this.set_bfObeseLevel(60);this.set_bfOverfatLevel(25);this.set_bfNormalLevel(20);this.set_bfAthleticLevel(15);this.set_bfEssentialLevel(7);this.set_bfMinimumSupported(0);}else{this.set_bfObeseLevel(60);this.set_bfOverfatLevel(31);this.set_bfNormalLevel(26);this.set_bfAthleticLevel(21);this.set_bfEssentialLevel(15);this.set_bfMinimumSupported(0);}this.set_eerObeseLbs(this.get_currentTotalLbs());var $0=this.$8(this.get_bfOverfatLevel());this.set_eerOverfat(this.$9($0));this.set_eerOverfatLbs($0-this.get_targetLeanLbs());$0=this.$8(this.get_bfNormalLevel());this.set_eerNormal(this.$9($0));this.set_eerNormalLbs($0-this.get_targetLeanLbs());$0=this.$8(this.get_bfAthleticLevel());this.set_eerAthletic(this.$9($0));this.set_eerAthleticLbs($0-this.get_targetLeanLbs());$0=this.$8(this.get_bfEssentialLevel());this.set_eerEssential(this.$9($0));this.set_eerEssentialLbs($0-this.get_targetLeanLbs());},$8:function($p0){return BodyEngine.Controller.BEMath.getTotalFromRatio(this.get_targetLeanLbs(),100-$p0);},$9:function($p0){return BodyEngine.Model.Fitness.FitnessFunctions.computeEERMetric(BodyEngine.Controller.BEMath.lbsToKg($p0),this.get_heightCm(),this.get_ageYears(),this.get_gender(),this.get_activityLevel());},updateGoalEER:function(){if(this.get_targetTotalLbs()===this.get_currentTotalLbs()){this.set_eerSelected(this.get_eerCurrent());}else{}},$A:function($p0,$p1,$p2,$p3,$p4){var $0=($p4+$p3)/2;if(Math.abs($0-$p3)<0.05){return $p3;}var $1=this.$B($p0,$p2,$0,$p1);if($1===$p1){return $0;}if($1>$p1){return this.$A($p0,$p1,$p2,$p3,$0);}return this.$A($p0,$p1,$p2,$0,$p4);},$B:function($p0,$p1,$p2,$p3){for(var $0=0;$0<$p1;$0++){var $1=this.$9($p0)-$p2;if($1<=0){break;}$p0=$p0-($1/3500);if($p0<$p3){return $p3-1;}}return $p0;},get_updateFatLevel:function(){return this.$3;}}
BodyEngine.View.Debug.BEUIDebug.registerClass('BodyEngine.View.Debug.BEUIDebug');BodyEngine.View.Controls.HTMLEventTypes.registerClass('BodyEngine.View.Controls.HTMLEventTypes');BodyEngine.View.Controls.BEElement.registerClass('BodyEngine.View.Controls.BEElement');BodyEngine.View.Controls.DropDownList.registerClass('BodyEngine.View.Controls.DropDownList',BodyEngine.View.Controls.BEElement);BodyEngine.View.Controls.NumericTextBox.registerClass('BodyEngine.View.Controls.NumericTextBox',BodyEngine.View.Controls.BEElement);BodyEngine.View.Controls.TabStrip.registerClass('BodyEngine.View.Controls.TabStrip',BodyEngine.View.Controls.BEElement);BodyEngine.View.BEUI.registerClass('BodyEngine.View.BEUI');BodyEngine.Controller.BEMath.registerClass('BodyEngine.Controller.BEMath');BodyEngine.Model.Fitness.FitnessData.registerClass('BodyEngine.Model.Fitness.FitnessData');BodyEngine.Model.Fitness.FitnessFunctions.registerClass('BodyEngine.Model.Fitness.FitnessFunctions');BodyEngine.Model.Profiles.ProfilePropertyNames.registerClass('BodyEngine.Model.Profiles.ProfilePropertyNames');BodyEngine.Model.Profiles.ProfileData.registerClass('BodyEngine.Model.Profiles.ProfileData');BodyEngine.Model.Profiles.UserProfileAbstract.registerClass('BodyEngine.Model.Profiles.UserProfileAbstract',null,BodyEngine.Model.Profiles.IUserProfile);BodyEngine.Model.Profiles.UserProfileBE.registerClass('BodyEngine.Model.Profiles.UserProfileBE',BodyEngine.Model.Profiles.UserProfileAbstract);BodyEngine.View.Debug.BEUIDebug.inputUserName=null;BodyEngine.View.Debug.BEUIDebug.radioMale=null;BodyEngine.View.Debug.BEUIDebug.radioFemale=null;BodyEngine.View.Debug.BEUIDebug.labelUserName=null;BodyEngine.View.Debug.BEUIDebug.labelAgeYears=null;BodyEngine.View.Debug.BEUIDebug.labelWeight=null;BodyEngine.View.Debug.BEUIDebug.labelGender=null;BodyEngine.View.Debug.BEUIDebug.labelHeight=null;BodyEngine.View.Debug.BEUIDebug.labelBmi=null;BodyEngine.View.Debug.BEUIDebug.labelRmr=null;BodyEngine.View.Debug.BEUIDebug.buttonLoadUser1=null;BodyEngine.View.Debug.BEUIDebug.buttonLoadUser2=null;BodyEngine.View.Debug.BEUIDebug.$1=null;BodyEngine.View.Debug.BEUIDebug.$2=null;BodyEngine.View.Debug.BEUIDebug.$3=null;BodyEngine.View.Debug.BEUIDebug.$4=null;BodyEngine.View.Debug.BEUIDebug.$5=null;BodyEngine.View.Controls.HTMLEventTypes.changeEvent='change';BodyEngine.View.Controls.HTMLEventTypes.clickEvent='click';BodyEngine.View.Controls.HTMLEventTypes.checkEvent='change';BodyEngine.View.BEUI.radioMaleLb=null;BodyEngine.View.BEUI.radioMaleKg=null;BodyEngine.View.BEUI.radioFemaleLb=null;BodyEngine.View.BEUI.radioFemaleKg=null;BodyEngine.View.BEUI.nAgeYearsLb=null;BodyEngine.View.BEUI.nAgeYearsKg=null;BodyEngine.View.BEUI.nTotalWeightLb=null;BodyEngine.View.BEUI.nTotalWeightKg=null;BodyEngine.View.BEUI.nHeightFeet=null;BodyEngine.View.BEUI.nHeightInches=null;BodyEngine.View.BEUI.nHeightM=null;BodyEngine.View.BEUI.nHeightCm=null;BodyEngine.View.BEUI.lblBmrLb=null;BodyEngine.View.BEUI.lblBmrKg=null;BodyEngine.View.BEUI.lblRmrLb=null;BodyEngine.View.BEUI.lblRmrKg=null;BodyEngine.View.BEUI.buttonCalculateRmrLb=null;BodyEngine.View.BEUI.buttonCalculateRmrKg=null;BodyEngine.View.BEUI.$0=null;BodyEngine.View.BEUI.$1=null;BodyEngine.View.BEUI.$2=null;BodyEngine.View.BEUI.$3=null;BodyEngine.View.BEUI.$4=null;(function(){$(function(){
var $1_0=new BodyEngine.Model.Profiles.UserProfileBE(BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE,false);$1_0.add_propertyChanged(function($p2_0,$p2_1){
switch($p2_1){case 'Gender':$1($1_0);break;case 'AgeYears':$2($1_0);break;case 'HeightCm':$3($1_0);break;case 'CurrentTotalLbs':$4($1_0);break;default:break;}});var $1_1=new BodyEngine.View.BEUI();$0($1_0);BodyEngine.View.BEUI.add_buttonClick(function($p2_0,$p2_1){
if($p2_0===BodyEngine.View.BEUI.buttonCalculateRmrLb||$p2_0===BodyEngine.View.BEUI.buttonCalculateRmrKg){window.setTimeout(function(){
$5($1_0,true);},100);}});BodyEngine.View.BEUI.add_numericTextBoxChange(function($p2_0,$p2_1){
if($p2_0===BodyEngine.View.BEUI.nAgeYearsLb){$1_0.set_ageYears(BodyEngine.View.BEUI.nAgeYearsLb.get_value());}else if($p2_0===BodyEngine.View.BEUI.nAgeYearsKg){$1_0.set_ageYears(BodyEngine.View.BEUI.nAgeYearsKg.get_value());}else if($p2_0===BodyEngine.View.BEUI.nTotalWeightLb){$1_0.set_currentTotalLbs(BodyEngine.View.BEUI.nTotalWeightLb.get_value());}else if($p2_0===BodyEngine.View.BEUI.nTotalWeightKg){$1_0.set_currentTotalLbs(BodyEngine.Controller.BEMath.kgToLbs(BodyEngine.View.BEUI.nTotalWeightKg.get_value()));}else if($p2_0===BodyEngine.View.BEUI.nHeightM||$p2_0===BodyEngine.View.BEUI.nHeightCm){$1_0.set_heightCm((BodyEngine.View.BEUI.nHeightM.get_value()*100+BodyEngine.View.BEUI.nHeightCm.get_value()));}else if($p2_0===BodyEngine.View.BEUI.nHeightFeet||$p2_0===BodyEngine.View.BEUI.nHeightInches){$1_0.set_heightCm(BodyEngine.Controller.BEMath.inchesToCm(BodyEngine.View.BEUI.nHeightFeet.get_value()*12+BodyEngine.View.BEUI.nHeightInches.get_value()));}});BodyEngine.View.BEUI.add_radioButtonCheck(function($p2_0,$p2_1){
if($p2_0===BodyEngine.View.BEUI.radioMaleLb||$p2_0===BodyEngine.View.BEUI.radioMaleKg){$1_0.set_gender(0);}else if($p2_0===BodyEngine.View.BEUI.radioFemaleLb||$p2_0===BodyEngine.View.BEUI.radioFemaleKg){$1_0.set_gender(1);}});eval("$('#debugframe').show();");var $1_2=new BodyEngine.View.Debug.BEUIDebug($1_0);$1_2.update($1_0);});})();
BodyEngine.Model.Fitness.FitnessData.bmI_NORMAL_MIN=18.5;BodyEngine.Model.Fitness.FitnessData.bmI_OVERWEIGHT_MIN=25;BodyEngine.Model.Fitness.FitnessData.bmI_OBESE_MIN=30;BodyEngine.Model.Fitness.FitnessData.bmI_MORBIDLY_OBESE_MIN=40;BodyEngine.Model.Fitness.FitnessData.bmI_MINIMUM_ALLOWED=18.5;BodyEngine.Model.Fitness.FitnessData.lbS_TOTAL_MAX_ALLOWED=500;BodyEngine.Model.Fitness.FitnessData.lbS_TOTAL_MIN_ALLOWED=10;BodyEngine.Model.Fitness.FitnessData.kG_TOTAL_MAX_ALLOWED=BodyEngine.Controller.BEMath.lbsToKg(500);BodyEngine.Model.Fitness.FitnessData.kG_TOTAL_MIN_ALLOWED=BodyEngine.Controller.BEMath.lbsToKg(10);BodyEngine.Model.Fitness.FitnessData.fatleveL_MALE_MINIMUM_SUPPORTED=0;BodyEngine.Model.Fitness.FitnessData.fatleveL_MALE_ESSENTIAL=7;BodyEngine.Model.Fitness.FitnessData.fatleveL_MALE_ATHLETIC=15;BodyEngine.Model.Fitness.FitnessData.fatleveL_MALE_NORMAL=20;BodyEngine.Model.Fitness.FitnessData.fatleveL_MALE_OVERFAT=25;BodyEngine.Model.Fitness.FitnessData.fatleveL_MALE_OBESE=60;BodyEngine.Model.Fitness.FitnessData.fatleveL_FEMALE_MINIMUM_SUPPORTED=0;BodyEngine.Model.Fitness.FitnessData.fatleveL_FEMALE_ESSENTIAL=15;BodyEngine.Model.Fitness.FitnessData.fatleveL_FEMALE_ATHLETIC=21;BodyEngine.Model.Fitness.FitnessData.fatleveL_FEMALE_NORMAL=26;BodyEngine.Model.Fitness.FitnessData.fatleveL_FEMALE_OVERFAT=31;BodyEngine.Model.Fitness.FitnessData.fatleveL_FEMALE_OBESE=60;BodyEngine.Model.Fitness.FitnessData.calorieS_PER_FAT_LBS=3500;BodyEngine.Model.Fitness.FitnessFunctions.rmrMultiplier=1.15;BodyEngine.Model.Profiles.ProfilePropertyNames.profileId='ProfileId';BodyEngine.Model.Profiles.ProfilePropertyNames.userName='UserName';BodyEngine.Model.Profiles.ProfilePropertyNames.gender='Gender';BodyEngine.Model.Profiles.ProfilePropertyNames.birthDate='BirthDate';BodyEngine.Model.Profiles.ProfilePropertyNames.ageYears='AgeYears';BodyEngine.Model.Profiles.ProfilePropertyNames.heightCm='HeightCm';BodyEngine.Model.Profiles.ProfilePropertyNames.activityLevel='ActivityLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.currentTotalLbs='CurrentTotalLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.currentLeanLbs='CurrentLeanLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.currentFatLbs='CurrentFatLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.targetTotalLbs='TargetTotalLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.targetLeanLbs='TargetLeanLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.targetFatLbs='TargetFatLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.currentFatLevel='CurrentFatLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.targetFatLevel='TargetFatLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.rmrCurrent='RMRCurrent';BodyEngine.Model.Profiles.ProfilePropertyNames.eerOverfat='EEROverfat';BodyEngine.Model.Profiles.ProfilePropertyNames.eerNormal='EERNormal';BodyEngine.Model.Profiles.ProfilePropertyNames.eerAthletic='EERAthletic';BodyEngine.Model.Profiles.ProfilePropertyNames.eerEssential='EEREssential';BodyEngine.Model.Profiles.ProfilePropertyNames.eerCurrent='EERCurrent';BodyEngine.Model.Profiles.ProfilePropertyNames.eerSelected='EERSelected';BodyEngine.Model.Profiles.ProfilePropertyNames.eerObeseLbs='EERObeseLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.eerOverfatLbs='EEROverfatLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.eerNormalLbs='EERNormalLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.eerAthleticLbs='EERAthleticLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.eerEssentialLbs='EEREssentialLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.bmiCurrent='BMICurrent';BodyEngine.Model.Profiles.ProfilePropertyNames.bmiGoal='BMIGoal';BodyEngine.Model.Profiles.ProfilePropertyNames.bmiUnderweightLbs='BMIUnderweightLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.bmiNormalLbs='BMINormalLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.bmiOverweightLbs='BMIOverweightLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.bmiObeseLbs='BMIObeseLbs';BodyEngine.Model.Profiles.ProfilePropertyNames.bfMinimumSupported='BFMinimumSupported';BodyEngine.Model.Profiles.ProfilePropertyNames.bfObeseLevel='BFObeseLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.bfOverfatLevel='BFOverfatLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.bfNormalLevel='BFNormalLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.bfAthleticLevel='BFAthleticLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.bfEssentialLevel='BFEssentialLevel';BodyEngine.Model.Profiles.ProfilePropertyNames.goalDate='GoalDate';BodyEngine.Model.Profiles.ProfilePropertyNames.imageUri='ImageUri';BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE=new BodyEngine.Model.Profiles.ProfileData();(function(){BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_profileId(null);BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_userName('Demo User');BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_gender(0);BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_heightCm(BodyEngine.Controller.BEMath.inchesToCm(70));BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_activityLevel(2);BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_currentTotalLbs(180);BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_currentFatLevel(25);BodyEngine.Model.Profiles.ProfileData.defaulT_PROFILE.set_targetTotalLbs(170);})();
})(jQuery);// This script was generated using Script# v0.7.4.0
